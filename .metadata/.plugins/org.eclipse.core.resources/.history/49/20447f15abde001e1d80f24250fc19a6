package com.Jpa.Service;

import java.nio.file.Files;
import java.nio.file.Path;


import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.Jpa.Entity.Person;
import com.Jpa.Repo.personRepo;


@Service
public class PersonService {
	
	@Autowired
	private personRepo pr;
	
	public void savePerson() {
		Person p=new Person();
		p.setName("kumar");
		String resumePath="D:/Sai Resume.pdf";
		String photoPath="C:/Users\\hi\\Downloads\\9dc1b74662f87b6fdownload\\b1d74138de3fca5db1d74138de3fca5dIMG_20230828_074111.jpg\"";

		try {
			Path resPath = Path.of(resumePath);
			byte[] resumeData = Files.readAllBytes(resPath);
			
			p.setResume(resumeData);
			
			Path phtPath = Path.of(photoPath);
			byte[] photoData = Files.readAllBytes(phtPath);
			
			p.setPhoto(photoData);
			
		}catch (Exception e) {
           e.printStackTrace();
		}
	      pr.save(p);
		
	}

}
