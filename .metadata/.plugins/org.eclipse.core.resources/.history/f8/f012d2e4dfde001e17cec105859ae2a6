package com.Examole.demo.Service;



import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.Examole.demo.Entity.Address;
import com.Examole.demo.Entity.Employee;
import com.Examole.demo.Repo.EmpRepo;


@Service
public class EmpAdrsService {

	private EmpRepo er;
	private Address adrepo;

	@Autowired
	public EmpAdrsService(EmpRepo er,Address adrepo) {
		this.er = er;
		this.adrepo=adrepo;
	}
	
	public void saveEmpWithAdrs() {
		Address adrs=new Address();
		
		Employee emp=new Employee();
		emp.setName("vijay");
		emp.setSalary(1234567.0);
		
		adrs.setCity("warangal");
		adrs.setState("Telangana");
		adrs.setCountry("Bharath");
		adrepo.save()
		emp.setAdrs(adrs);
		er.save(emp);
		
	}
	
	public void getEmpAlongWithAddrs() {
		List<Object[]> empWithAddrs = er.getEmpWithAddrs();
		for(Object[] o: empWithAddrs) {
			System.out.println(o[0]+"\t"+o[1]);
		}
	}
	
	
	
}
